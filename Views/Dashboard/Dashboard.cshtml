@model List<BumbleBeeWebApp.Models.Project>

<link rel="stylesheet" type="text/css" href="~/css/dashboard.css" />

<div class="dashboard-header">
    <h1>Bumblebee Foundation</h1>
    <p>Help us make a better tomorrow</p>
</div>

<div class="container dashboard-main">
    <div class="row">
        <!-- You can add any additional content here if needed -->
    </div>

    <!-- Personalized Section Based on User Role -->
    <section class="user-profile">
        @switch (@Context.Session.GetString("UserType"))
        {
            case "Admin":
                <div>
                    <h3 class="row justify-content-center">Admin Dashboard</h3>
                    <h6 class="row justify-content-center">Welcome, @Context.Session.GetString("UserFullName")</h6>
                </div>
                @Html.Partial("AdminDashboard")
                break;
            case "Auditor":
                <div>
                    <h3 class ="row justify-content-center">Auditor Dashboard</h3>
                    <h6 class="row justify-content-center">Welcome, @Context.Session.GetString("UserFullName")</h6>
                </div>
                @Html.Partial("AuditDashboard")
                break;
            case "Company":
                <div>
                    <h3 class="row justify-content-center">Company Dashboard</h3>
                    <h6 class="row justify-content-center">Welcome, @Context.Session.GetString("UserFullName")</h6>
                </div>
                @Html.Partial("CompanyDashboard")
                break;
            case "Donor":
                <div>
                    <h3 class="row justify-content-center">User Dashboard</h3>
                    <h6 class="row justify-content-center">Welcome, @Context.Session.GetString("UserFullName")</h6>
                </div>
                @Html.Partial("DonorDashboard")
                break;
            default:
                <p>Invalid account. Please contact support.</p>
                break;
        }
        @if (@Context.Session.GetString("UserType") == "Admin" || @Context.Session.GetString("UserType") == "Donor")
        {
            <h2 class="section-title">Projects</h2>
            <div class="projects-container">
                @if (Model == null || !Model.Any())
                {
                    <p>No projects available at the moment.</p>
                }
                else
                {
                    @foreach (var project in Model)
                    {
                        <div class="project-card2" style="display: flex; flex-direction: column; justify-content: space-between; height: 300px; padding: 15px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box;">
                            <div>
                                <h5>@project.ProjectName</h5>
                                <p>@project.Description</p>
                                <p><strong>Date Created:</strong> @project.DateCreated.ToString("yyyy-MM-dd")</p>
                            </div>
                            <a class="btn"
                               asp-controller="Dashboard"
                               asp-action="ProjectDetails"
                               asp-route-projectId="@project.Id"
                               style="padding: 10px 20px; font-size: 16px; border-radius: 5px; text-decoration: none; margin-top: auto;">
                                View Details
                            </a>
                        </div>
                    }                
                }
            </div>
        }

    </section>
</div>


@if (TempData["Success"] != null)
{
    <div class="alert alert-success">@TempData["Success"]</div>
}

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}