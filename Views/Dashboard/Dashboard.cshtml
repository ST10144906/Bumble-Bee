@model List<BumbleBeeWebApp.Models.CompanyProjectsViewModel>
<link rel="stylesheet" type="text/css" href="~/css/dashboard.css" />

<div class="dashboard-header">
    <h1>Bumblebee Foundation</h1>
    <p>Help us make a better tomorrow</p>
</div>

<div class="container dashboard-main">
    <div class="row">
        <!-- You can add any additional content here if needed -->
    </div>

    <!-- Personalized Section Based on User Role -->
    <section class="user-profile">
        <h6>Welcome, @Context.Session.GetString("UserFullName")</h6>

        @switch (@Context.Session.GetString("UserType"))
        {
            case "Admin":
                <div>
                    <h3>Admin Dashboard</h3>
                    <p>Access Admin-specific content here.</p>
                </div>
                @Html.Partial("AdminDashboard")
                break;
            case "Auditor":
                <div>
                    <h3>Auditor Dashboard</h3>
                    <p>Access Auditor-specific content here.</p>
                </div>
                @Html.Partial("AuditorDashboard")
                break;
            case "Company":
                <div>
                    <h3>Company Dashboard</h3>
                    <p>Access Company-specific content here.</p>
                </div>
                @Html.Partial("CompanyDashboard")
                break;
            case "Donor":
                <div>
                    <h3>User Dashboard</h3>
                    <p>Access User-specific content here.</p>
                </div>
                @Html.Partial("DonorDashboard")

                <!-- Projects Section for Donors -->
                <h2>Projects</h2>
                <div class="container">
                    @if (ViewBag.NoProjectsMessage != null)
                    {
                        <p>@ViewBag.NoProjectsMessage</p>
                    }
                    else
                    {
                        foreach (var company in Model)
                        {
                            <div class="card">
                                <div class="card-header">
                                    <h3>@company.CompanyName</h3>
                                    <p>@company.CompanyDescription</p>
                                </div>
                                <div class="card-body">
                                    @foreach (var project in company.Projects)
                                    {
                                        <div>
                                            <h4>@project.ProjectName</h4>
                                            <p>@project.Description</p>
                                        </div>
                                    }
                                </div>
                            </div>
                        }
                    }
                </div>
                break;
            default:
                <p>Invalid account. Please contact support.</p>
                break;
        }
    </section>

    <!-- Action Buttons -->
    <div class="text-center mt-5">
        <a class="btn" asp-controller="DonorProject" asp-action="ViewAllProjects">View All Projects</a>
        <a class="btn" href="#">Manage Sponsors</a>
        <a class="btn" href="#">Track Donations</a>
    </div>
</div>
