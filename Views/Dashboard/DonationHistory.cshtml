@model List<Dictionary<string, object>>
<link rel="stylesheet" type="text/css" href="~/css/dashboard.css" />

<div class="dashboard-header">
    <h1>Donation History</h1>
    <p>Showing donation history for @Context.Session.GetString("UserFullName")</p>

    <h2 class="section-title">Your Donations</h2>
    <div class="donations-container">
        @if (Model == null || !Model.Any())
        {
            <p>No donations found for this account.</p>
        }
        else
        {
            @foreach (var donation in Model)
            {
                <div class="donation-card">
                    <h5>Project Name: @donation["ProjectName"]</h5>
                    <p><strong>Amount:</strong> @((double)donation["Amount"])</p>
                    <p><strong>Payment Type:</strong> @donation["PaymentType"]</p>
                    <p><strong>Date:</strong> @(((Google.Cloud.Firestore.Timestamp)donation["Timestamp"]).ToDateTime().ToString("yyyy-MM-dd"))</p>
                </div>
            }
        }
    </div>
</div>

<style>
    .donations-container {
        max-height: 500px; 
        overflow-y: auto; 
        padding: 20px;
        background-color: #f5f5f5;
        border-radius: 5px;
        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
    }

    .donation-card {
        background-color: #fff;
        padding: 15px;
        margin-bottom: 10px;
        border-radius: 5px;
        box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.1);
    }

    .donation-card h5 {
        margin-bottom: 5px;
        color: #333;
    }

    .donation-card p {
        margin: 3px 0;
        color: #666;
    }
</style>